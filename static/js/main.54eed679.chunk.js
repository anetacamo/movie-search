(this.webpackJsonpyoyo=this.webpackJsonpyoyo||[]).push([[0],{11:function(e,t,a){},13:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(5),i=a.n(r),c=(a(11),a(3)),o=a(2),u=a.n(o),s=a(1),m=function(e){var t="like fa fa-heart";return e.liked||(t+="-o"),l.a.createElement("i",{onClick:e.onClick,className:t,"aria-hidden":"true"})},f=function(e){for(var t=[],a=0;a<e.popularity;a++)t.push(l.a.createElement("i",{className:"fa fa-star","aria-hidden":"true",key:a}));return t};function d(e){return l.a.createElement("div",{className:"film-details"},e.movie?l.a.createElement("div",null,l.a.createElement("h2",null,l.a.createElement("span",null,e.movie.title),e.movie.title!==e.movie.original_title?l.a.createElement("span",{className:"red"}," ",e.movie.original_title):null),l.a.createElement(m,{liked:e.movie.liked,onClick:e.handleClick}),l.a.createElement(f,{popularity:e.movie.popularity/10}),l.a.createElement("span",null," ",e.movie.vote_count," votes"),l.a.createElement("p",null,e.movie.overview),l.a.createElement("p",null,l.a.createElement("b",null,"release date")," ",e.movie.release_date,l.a.createElement("br",null),l.a.createElement("b",null,"original language")," ",e.movie.original_language)):l.a.createElement("p",null))}a(13);a(14);i.a.render(l.a.createElement((function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)(null),o=Object(s.a)(i,2),m=o[0],f=o[1],v=Object(n.useState)(""),p=Object(s.a)(v,2),E=p[0],g=p[1],h=Object(n.useState)([]),k=Object(s.a)(h,2),b=k[0],O=k[1],y=Object(n.useState)(null),j=Object(s.a)(y,2),N=j[0],S=j[1],w=Object(n.useState)([]),C=Object(s.a)(w,2),x=C[0],_=C[1];return Object(n.useEffect)((function(){if(0!==E.length){r(!0),f(null);var e=setTimeout((function(){!function(){var e,t;u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,u.a.awrap(fetch("".concat("https://api.themoviedb.org/3/search/movie","?api_key=").concat("4cb1eeab94f45affe2536f2c684a5c9e","&query=").concat(E)));case 3:return e=a.sent,a.next=6,u.a.awrap(e.json());case 6:t=a.sent,O(t.results),r(!1),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(0),f("Something went wrong"),r(!1);case 15:case"end":return a.stop()}}),null,null,[[0,11]])}()}),250);return function(){return clearTimeout(e)}}if(O([]),null!==localStorage.getItem("liked")){var t=JSON.parse(localStorage.getItem("liked"));_(t)}}),[E]),l.a.createElement("div",{className:"search"},l.a.createElement("input",{className:"search-field",placeholder:"Search",value:E,onChange:function(e){return g(e.target.value)}}),l.a.createElement("div",{className:"underline"}),l.a.createElement("div",{className:"results movie-listing"},a?l.a.createElement("p",null,"Loading..."):m?l.a.createElement("p",null,m):0!==E.length&&0===b.length?l.a.createElement("p",null,"No movies found"):b.map((function(e){return l.a.createElement("p",{key:e.id,onClick:function(){return S(e)}},e.title," ",e.liked&&l.a.createElement("i",{className:"fa fa-heart red","aria-hidden":"true"}))}))),l.a.createElement(d,{movie:N,handleClick:function(){return function(e){if(e.liked=!e.liked,S(e),e.liked){var t=[].concat(Object(c.a)(x),[e]);_(t),localStorage.setItem("liked",JSON.stringify(t))}else{var a=Object(c.a)(x),n=a.indexOf(e);a.splice(n,1),_(a),localStorage.setItem("liked",JSON.stringify(a))}}(N)}}),l.a.createElement("div",{className:"favourite-movies movie-listing"},l.a.createElement("p",null,l.a.createElement("span",{className:"underlined"},"your favourite movies")," ",x.length),x.map((function(e){return l.a.createElement("p",{key:e.id,onClick:function(){return S(e)}},e.title)}))))}),null),document.getElementById("root"))},6:function(e,t,a){e.exports=a(15)}},[[6,1,2]]]);
//# sourceMappingURL=main.54eed679.chunk.js.map